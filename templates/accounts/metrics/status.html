<body style="height: 100%; margin: 0">
        <div id="container90" style="height: 450px; width: 70%; margin-left: 150px; -webkit-tap-highlight-color: transparent; user-select: none; position: relative;" _echarts_instance_="ec_1541635744742"><div style="position: relative; overflow: hidden; width: 1433px; height: 752px; padding: 0px; margin: 0px; border-width: 0px; cursor: pointer;"><canvas data-zr-dom-id="zr_0" width="1433" height="752" style="position: absolute; left: 0px; top: 0px; width: 1433px; height: 752px; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); padding: 0px; margin: 0px; border-width: 0px;"></canvas></div><div style="position: absolute; display: none; border-style: solid; white-space: nowrap; z-index: 9999999; transition: left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s; background-color: rgba(50, 50, 50, 0.7); border-width: 0px; border-color: rgb(51, 51, 51); border-radius: 4px; color: rgb(255, 255, 255); font: 14px/21px sans-serif; padding: 5px; left: 765px; top: 479px; pointer-events: none;">Stages <br>Indeed : 234 (9.13%)</div></div>
    
        <script type="text/javascript">

        function buildGraph(jsonResponse){
            var dom = document.getElementById("container90");
            var myChart = echarts.init(dom);
            var app = {};
            option = null;
            var statuses = new Array();
            jsonResponse.forEach(element => {
                var status = element.name;
                statuses.push(status);
            });
            option = {
                title : {
                    text: 'Stages of Applications',
                    subtext: '',
                    x:'center'
                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    orient: 'vertical',
                    left: 'left',
                    data: statuses
                },
                series : [
                    {
                        name: 'Stages',
                        type: 'pie',
                        radius : '55%',
                        center: ['50%', '60%'],
                        data:jsonResponse,
                        itemStyle: {
                            emphasis: {
                                shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                        }
                    }
                ]
            };
            ;
            if (option && typeof option === "object") {
                myChart.setOption(option, true);
            }
        }

        fetch('get_count_by_statuses', {
              method: 'GET'
            })
            .then(function(response) {
              return response.json();
            })
            .then(function(jsonResponse) {
              buildGraph(jsonResponse);
            });    
        </script>
    
 </body>